{
    "requiredModules": [
        "http-server",
        "http-client",
        "proxy-headers",
        "access-log",
        {
            "collect": "tree",
            "path": "apiGroups",
            "key": "_plugins",
            "idWithPath": true
        }
    ],
    "modules": "$env:?MODULES:array",
    "app": {
        "alivePath": "$env:?ALIVE_PATH:string",
        "defaultRequestBodyMaxSize": "$env:?DEFAULT_REQUEST_BODY_MAX_SIZE:int"
    },
    "registry:request-plugins": {
        "config": {
            "defaultDeploymentStrategy": "cpu"
        }
    },
    "registry:response-plugins": {
        "config": {
            "defaultDeploymentStrategy": "cpu"
        }
    },
    "registry:system": {
        "service-discovery": {
            "main": "com.cloudentity.tools.vertx.sd.SdVerticle",
            "verticleConfig": {
                "scan-period": "$env:SD_SCAN_PERIOD:int:3000"
            }
        },
        "consul-sd-provider": {
            "main": "com.cloudentity.tools.vertx.sd.provider.ConsulSdProvider",
            "dependsOn": [
                "service-discovery"
            ],
            "verticleConfig": {
                "consul": {
                    "host": "consul",
                    "port": 8500,
                    "ssl": false
                },
                "discovery": {
                    "scan-period": "$env:CONSUL_SD_SCAN_PERIOD:int:2000"
                }
            }
        }
    }
}